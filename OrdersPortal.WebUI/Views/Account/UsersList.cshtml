@{
	ViewBag.Title = "Список користувачів";
	int count = ViewBag.UsersList.Count;
	int customerCount = ViewBag.CustomersList.Count;


}

<ul class="nav nav-tabs">
	<li class="nav-item"><a class="active nav-link" href="#allusers" data-bs-toggle="tab">Усі</a></li>
	<li class="nav-item"><a class="nav-link" href="#dealers" data-bs-toggle="tab">Дилери</a></li>
	<li class="nav-item"><a class="nav-link" href="#managers" data-bs-toggle="tab">Менеджери</a></li>
	<li class="nav-item"><a class="nav-link" href="#regmanagers" data-bs-toggle="tab">Регіональні менеджери</a></li>
	<li class="nav-item"><a class="nav-link" href="#directors" data-bs-toggle="tab">Директора</a></li>
	<li class="nav-item"><a class="nav-link" href="#admins" data-bs-toggle="tab">Адміністратори</a></li>

</ul>

<div id="myTabContent" class="tab-content" style="padding-top:30px">
	<div class="tab-pane fade show active" id="allusers">
		<div>
			Всього користувачів: @count
		</div>
		<p>
			<div>
				<a href="/Account/Register" class="btn btn-success">Додати користувача</a>
			</div>

			<table class="table table-striped table-hover" data-toggle="table" data-search="true">
				<thead>
					<tr>

						<th data-sortable="true">Логін</th>
						<th data-sortable="true">ПІБ</th>
						<th data-sortable="true">E-Mail</th>
						<th data-sortable="true">Телефон</th>
						<th data-sortable="true">Регіон</th>
						<th data-sortable="true">Організація</th>
						<th data-sortable="true">Дата реєст.</th>
						<th data-sortable="true">Дата зак.</th>
						<th data-sortable="true">Вкл.</th>
						<th>Дії</th>
					</tr>
				</thead>

				<tbody>

					@foreach (var b in ViewBag.UsersList)
					{

					<tr>
						<td>@b.UserName </td>
						<td>@b.FullName</td>
						<td>@b.EMail</td>
						<td>@b.Tel</td>
						<td>@b.Region</td>
						<td>
							@Html.Raw(
								b.OrganizationsNameList.Replace(
									"Філія Львів",
									"<span class='text-success fw-bold'>Філія Львів</span>"
								)
							)
						</td>

						<td>@b.RegisterDate.ToString("dd/MM/yyyy")</td>
						<td>
							@if (b.ExpireDate < DateTime.Now)
							{<i class="fas fa-exclamation-circle fa-lg text-danger"></i>}  @b.ExpireDate.ToString("dd/MM/yyyy")
						</td>
						<td style="text-align: center">
							@if (b.Enable)
							{
								<i class="fas fa-check-circle text-success"></i>
							}
							else
							{
								<i class="fas  fa-ban text-danger"></i>
							}
						</td>
						<td class="d-flex justify-content-around ">
							<div><a href="/Account/EditUser?username=@b.UserName"><i class="fas fa-2x fa-edit text-warning"></i></a></div>
							<div><a href="/Account/ChangeUserPassword?username=@b.UserName"><i class="fas fa-2x fa-key"></i></a></div>
						</td>
					</tr>
				}

				</tbody>

			</table>

		</p>
	</div>
	<div class="tab-pane fade" id="dealers">
		<div>
			Всього дилерів: @customerCount
		</div>
		<p>
			<table class="table table-striped table-hover" data-toggle="table" data-search="true">
				<thead>
					<tr>

						<th data-sortable="true">Логін</th>
						<th data-sortable="true">ПІБ</th>
						<th data-sortable="true">E-Mail</th>
						<th data-sortable="true">Телефон</th>
						<th data-sortable="true">Регіон</th>
						<th data-sortable="true">Менеджер</th>
						<th data-sortable="true">Організація</th>
						<th data-sortable="true">Дата реєст.</th>
						<th data-sortable="true">Дата зак.</th>
						<th data-sortable="true">Вкл.</th>
						<th>Дії</th>
					</tr>
				</thead>

				<tbody>

					@foreach (var b in ViewBag.CustomersList)
					{

					<tr>
						<td>@b.UserName </td>
						<td>@b.FullName</td>
						<td>@b.EMail</td>
						<td>@b.Tel</td>
						<td>@b.Region</td>
						<td>@b.Manager</td>
						<td>
							@Html.Raw(
								b.OrganizationsNameList.Replace(
									"Філія Львів",
									"<span class='text-success fw-bold'>Філія Львів</span>"
								)
							)
						</td>
						<td>@b.RegisterDate.ToString("dd/MM/yyyy")</td>
						<td>
							@if (b.ExpireDate < DateTime.Now)
							{<i class="fas fa-exclamation-circle fa-lg text-danger"></i>}  @b.ExpireDate.ToString("dd/MM/yyyy")
						</td>
						<td style="text-align: center">
							@if (b.Enable)
							{
								<i class="fas fa-check-circle text-success"></i>
							}
							else
							{
								<i class="fas  fa-ban text-danger"></i>
							}
						</td>
						<td class="d-flex justify-content-around ">
							<div><a href="/Account/EditUser?username=@b.UserName"><i class="fas fa-2x fa-edit text-warning"></i></a></div>
							<div><a href="/Account/ChangeUserPassword?username=@b.UserName"><i class="fas fa-2x fa-key"></i></a></div>
						</td>
					</tr>
	}

					</tbody>

					</table></p>
				</div>

				<div class="tab-pane fade" id="managers">
					<p>
						<table class="table table-striped table-hover" data-toggle="table" data-search="true">
							<thead>
								<tr>

									<th data-sortable="true">Логін</th>
									<th data-sortable="true">ПІБ</th>
									<th data-sortable="true">E-Mail</th>
									<th data-sortable="true">Телефон</th>
									<th data-sortable="true">Регіон</th>
									<th data-sortable="true">Рег.Менеджер</th>
									<th data-sortable="true">Організація</th>
									<th data-sortable="true">Дата реєст.</th>
									<th data-sortable="true">Дата зак.</th>
									<th data-sortable="true">Вкл.</th>
									<th>Дії</th>
								</tr>
							</thead>

							<tbody>

								@foreach (var b in ViewBag.ManagersList)
								{

								<tr>
									<td>@b.UserName </td>
									<td>@b.FullName</td>
									<td>@b.EMail</td>
									<td>@b.Tel</td>
									<td>@b.Region</td>
									<td>@b.RegionManager</td>
									<td>
										@Html.Raw(
											b.OrganizationsNameList.Replace(
												"Філія Львів",
												"<span class='text-success fw-bold'>Філія Львів</span>"
											)
										)
									</td>
									<td>@b.RegisterDate.ToString("dd/MM/yyyy")</td>
									<td>
										@if (b.ExpireDate < DateTime.Now)
										{<i class="fas fa-exclamation-circle fa-lg text-danger"></i>}  @b.ExpireDate.ToString("dd/MM/yyyy")
									</td>
									<td style="text-align: center">
										@if (b.Enable)
										{
											<i class="fas fa-check-circle text-success"></i>
										}
										else
										{
											<i class="fas  fa-ban text-danger"></i>
										}
									</td>
									<td class="d-flex justify-content-around ">
										<div><a href="/Account/EditUser?username=@b.UserName"><i class="fas fa-2x fa-edit text-warning"></i></a></div>
										<div><a href="/Account/ChangeUserPassword?username=@b.UserName"><i class="fas fa-2x fa-key"></i></a></div>
									</td>
								</tr>
				}


								</tbody>

								</table></p>
							</div>
							<div class="tab-pane fade" id="regmanagers">
								<p>
									<table class="table table-striped table-hover" data-toggle="table" data-search="true">
										<thead>
											<tr>

												<th data-sortable="true">Логін</th>
												<th data-sortable="true">ПІБ</th>
												<th data-sortable="true">E-Mail</th>
												<th data-sortable="true">Телефон</th>
												<th data-sortable="true">Регіон</th>
												<th data-sortable="true">Організація</th>
												<th data-sortable="true">Дата реєст.</th>
												<th data-sortable="true">Дата зак.</th>
												<th data-sortable="true">Вкл.</th>
												<th>Дії</th>
											</tr>
										</thead>

										<tbody>

											@foreach (var b in ViewBag.RegionManagersList)
											{

											<tr>
												<td>@b.UserName </td>
												<td>@b.FullName</td>
												<td>@b.EMail</td>
												<td>@b.Tel</td>
												<td>@b.Region</td>
												<td>
													@Html.Raw(
														b.OrganizationsNameList.Replace(
															"Філія Львів",
															"<span class='text-success fw-bold'>Філія Львів</span>"
														)
													)
												</td>
												<td>@b.RegisterDate.ToString("dd.MM.yyyy")</td>
												<td>
													@if (b.ExpireDate < DateTime.Now)
													{<i class="fas fa-exclamation-circle fa-lg text-danger"></i>}  @b.ExpireDate.ToString("dd/MM/yyyy")
												</td>
												<td style="text-align: center">
													@if (b.Enable)
													{
														<i class="fas fa-check-circle text-success"></i>
													}
													else
													{
														<i class="fas  fa-ban text-danger"></i>
													}
												</td>
												<td class="d-flex justify-content-around ">
													<div><a href="/Account/EditUser?username=@b.UserName"><i class="fas fa-2x fa-edit text-warning"></i></a></div>
													<div><a href="/Account/ChangeUserPassword?username=@b.UserName"><i class="fas fa-2x fa-key"></i></a></div>
												</td>
											</tr>
							}
											</tbody>

											</table></p>
										</div>
										<div class="tab-pane fade" id="directors">
											<p>
												<table class="table table-striped table-hover" data-toggle="table" data-search="true">
													<thead>
														<tr>

															<th data-sortable="true">Логін</th>
															<th data-sortable="true">ПІБ</th>
															<th data-sortable="true">E-Mail</th>
															<th data-sortable="true">Телефон</th>
															<th data-sortable="true">Організація</th>
															<th data-sortable="true">Дата реєст.</th>
															<th data-sortable="true">Дата зак.</th>
															<th data-sortable="true">Вкл.</th>
															<th>Дії</th>
														</tr>
													</thead>

													<tbody>

														@foreach (var b in ViewBag.DirectorsList)
														{

														<tr>
															<td>@b.UserName </td>
															<td>@b.FullName</td>
															<td>@b.EMail</td>
															<td>@b.Tel</td>
															<td>
																@Html.Raw(
																	b.OrganizationsNameList.Replace(
																		"Філія Львів",
																		"<span class='text-success fw-bold'>Філія Львів</span>"
																	)
																)
															</td>
															<td></td>
															<td></td>
															<td style="text-align: center">
																@if (b.Enable)
																{
																	<i class="fas fa-check-circle text-success"></i>
																}
																else
																{
																	<i class="fas  fa-ban text-danger"></i>
																}
															</td>
															<td class="d-flex justify-content-around ">
																<div><a href="/Account/EditUser?username=@b.UserName"><i class="fas fa-2x fa-edit text-warning"></i></a></div>
																<div><a href="/Account/ChangeUserPassword?username=@b.UserName"><i class="fas fa-2x fa-key"></i></a></div>
															</td>
														</tr>
										}
														</tbody>

														</table></p>
													</div>
													<div class="tab-pane fade" id="admins">
														<p>
															<table class="table table-striped table-hover" data-toggle="table" data-search="true">
																<thead>
																	<tr>

																		<th data-sortable="true">Логін</th>
																		<th data-sortable="true">ПІБ</th>
																		<th data-sortable="true">E-Mail</th>
																		<th data-sortable="true">Телефон</th>
																		<th data-sortable="true">Організація</th>
																		<th data-sortable="true">Дата реєст.</th>
																		<th data-sortable="true">Дата зак.</th>
																		<th data-sortable="true">Вкл.</th>
																		<th>Дії</th>
																	</tr>
																</thead>

																<tbody>

																	@foreach (var b in ViewBag.AdminsList)
																	{

																	<tr>
																		<td>@b.UserName </td>
																		<td>@b.FullName</td>
																		<td>@b.EMail</td>
																		<td>@b.Tel</td>
																		<td>
																			@Html.Raw(
																				b.OrganizationsNameList.Replace(
																					"Філія Львів",
																					"<span class='text-success fw-bold'>Філія Львів</span>"
																				)
																			)
																		</td>
																		<td></td>
																		<td></td>
																		<td style="text-align: center">
																			@if (b.Enable)
																			{
																				<i class="fas fa-check-circle text-success"></i>
																			}
																			else
																			{
																				<i class="fas  fa-ban text-danger"></i>
																			}
																		</td>
																		<td class="d-flex justify-content-around ">
																			<div><a href="/Account/EditUser?username=@b.UserName"><i class="fas fa-2x fa-edit text-warning"></i></a></div>
																			<div><a href="/Account/ChangeUserPassword?username=@b.UserName"><i class="fas fa-2x fa-key"></i></a></div>
																		</td>
																	</tr>
													}
																	</tbody>

																	</table></p>
																</div>
															</div>